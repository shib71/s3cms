<html>
	<head>
		<script src="js/lib/aws-sdk-2.1.49.min.js"></script>
	</head>
	<body>
		<span
			id="login"
			class="g-signin"
			data-height="short"
			data-callback="loginToGoogle"
			data-cookiepolicy="single_host_origin"
			data-requestvisibleactions="http://schemas.google.com/AddActivity"
			data-scope="https://www.googleapis.com/auth/plus.login">
		</span>
		<script type="text/javascript">
			var s3 = null;
			var clientID = '952205068971-3dlk0aoc5l9mglq4qvtmr8kv70i4cccb.apps.googleusercontent.com'; // Google client ID
			var roleArn = 'arn:aws:iam::313192320421:role/CMS_Public';

			document.getElementById('login').setAttribute('data-clientid', clientID);
			document.getElementById('login').setAttribute('data-scope', 'profile');
			function loginToGoogle(response) {
				if (!response.error) {console.log(response);
					AWS.config.credentials = new AWS.WebIdentityCredentials({
						RoleArn: roleArn, WebIdentityToken: response.id_token
					});

					s3 = new AWS.S3();

					console.log('You are now logged in.');
				} else {
					console.log('There was a problem logging you in.');
				}
			}

			(function() {
				var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
				po.src = 'https://apis.google.com/js/client:plusone.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			})();
		</script>
	</body>
</html>